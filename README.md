# SaraTakeover Project

## Overview

SaraTakeover is a Flask-based web application designed to process specific CSV data files and transform them into a format suitable for import into the Arial system. This application performs data cleaning, transformation, and export, ensuring that input data meets the required standards.

---

## Features

- **File Upload Support:** Users can upload CSV files via the web interface.
- **Data Cleaning:** Ensures critical fields are numeric and removes invalid rows.
- **Data Transformation:** Converts numeric values to hexadecimal with zero-padding and combines them to create unique serial numbers.
- **Data Mapping:** Maps `alarm_device_type` to `TypeID` and selects only required columns for the output.
- **Export to CSV:** Outputs a cleaned and processed file named `Arial_Import.csv` for download.
- **Web Interface:** Provides a simple UI for uploading files and downloading the processed output.

---

## Getting Started

### Prerequisites

To run this application, you need:

- **Python 3.7+**
- Flask
- Pandas

### Installation

1. **Clone the repository:**
   ```bash
   git clone https://github.com/yourusername/SaraTakeover.git
   cd SaraTakeover
   ```

2. **Install dependencies:**
   Use `pip` to install the required Python libraries.
   ```bash
   pip install flask pandas
   ```

3. **Set up directory structure:**
   Ensure the following directories exist:
   - `static/` for static files (e.g., CSS, JS)
   - `templates/` for HTML templates
   - `uploads/` to store uploaded files temporarily

---

## Running the Application

1. **Start the Flask server:**
   ```bash
   python app.py
   ```

2. **Access the application:**
   Open a browser and navigate to `http://localhost:5000`.

---

## Usage

### Home Page

1. Navigate to the home page.
2. Upload a CSV file containing the required columns:
   - `fc2`
   - `sys_id`
   - `xmit_id`
   - `alarm_device_type`
   - `alarm_description`
   - `last_check_in`

3. Click **Submit** to process the file.
4. Download the processed `Arial_Import.csv` file.

### File Processing

The application performs the following steps when processing a file:

1. **Load CSV File:**
   Reads the uploaded file into a Pandas DataFrame.
2. **Data Cleaning:**
   - Converts `fc2`, `sys_id`, and `xmit_id` columns to numeric.
   - Drops rows with missing values in these fields.
   - Converts numeric fields to integers.
3. **Hexadecimal Conversion:**
   - Transforms `fc2`, `sys_id`, and `xmit_id` into hexadecimal format with zero-padding.
   - Combines these values into a single `SerialNumber` in decimal format.
4. **Filter SerialNumber:**
   Removes rows with `SerialNumber` equal to 0.
5. **Data Mapping:**
   Maps `alarm_device_type` to `TypeID`.
6. **Select and Rename Columns:**
   Prepares the final DataFrame for export with the following columns:
   - `SerialNumber`
   - `TypeID`
   - `Description` (renamed from `alarm_description`)
   - `LastCheckIn` (renamed from `last_check_in`)
7. **Export:**
   Saves the processed DataFrame as `processed_arial_data.csv`.

---

## Project Structure

```
SaraTakeover/
├── app.py              # Main application file
├── requirements.txt    # Python dependencies (if available)
├── static/             # Directory for static files (CSS, JS, etc.)
├── templates/          # Directory for HTML templates
│   └── index.html      # Main template for the web interface
├── uploads/            # Temporary storage for uploaded files
└── processed_arial_data.csv # Output file generated by the app
```

---

## API Endpoints

### `/`
- **Methods:** `GET`, `POST`
- **Description:**
  - `GET`: Renders the home page for uploading files.
  - `POST`: Handles file uploads, processes the data, and returns the processed CSV file.
- **Error Responses:**
  - `400 Bad Request` if no file is uploaded or selected.

---

## Deployment

### Development Server
To run the application locally with debugging enabled:
```bash
python app.py
```

### Production Server
Use a production-grade WSGI server (e.g., Gunicorn) for deployment:
```bash
gunicorn -w 4 app:app
```

---

## Security

- **Secret Key:** Replace `your_secret_key` in `app.py` with a strong, secure secret key for session management in production.
- **Input Validation:** Ensure only trusted users can upload files to avoid malicious inputs.

---

## Troubleshooting

### Common Issues
1. **File Not Processed:**
   - Check that the uploaded file contains all required columns.
2. **Application Error:**
   - Ensure Python dependencies are installed and up to date.
3. **Permission Issues:**
   - Verify write permissions for the `uploads/` and project directories.

---

## Future Improvements

- Add support for additional file formats (e.g., Excel).
- Enhance error handling and logging.
- Provide a more robust user interface with progress indicators.
- Implement user authentication for secure access.

---

## License

This project is licensed under the [MIT License](LICENSE).

---

## Contributing

1. Fork the repository.
2. Create a feature branch:
   ```bash
   git checkout -b feature-name
   ```
3. Commit your changes:
   ```bash
   git commit -m "Add feature name"
   ```
4. Push to the branch:
   ```bash
   git push origin feature-name
   ```
5. Create a pull request.

---

## Author

Developed by [Your Name](https://github.com/yourusername).

---

## Acknowledgments

- **Flask Framework:** [Flask](https://flask.palletsprojects.com/)
- **Pandas Library:** [Pandas](https://pandas.pydata.org/)
